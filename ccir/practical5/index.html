<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/judoc.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=stylesheet  href="/css/custom.css"> <link rel=icon  href="/assets/infra/favicon.ico"> <title>Practical 5 &ndash; Sensitivity analysis of a linear program</title> <header> <div class=blog-name ><a href="">Benoît Legat</a></div> <nav> <ul> <li><a href="/">Home</a> <li><a href="/publications/">Publications</a> <li><a href="/talks/">Talks</a> <li><a href="/softwares/">Softwares</a> <li><a href="/teaching/">Teaching</a> </ul> <img src="/assets/infra/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id=practical_5_ndash_sensitivity_analysis_of_a_linear_program ><a href="#practical_5_ndash_sensitivity_analysis_of_a_linear_program" class=header-anchor >Practical 5 &ndash; Sensitivity analysis of a linear program</a></h1> <p> <a href="https://mybinder.org/v2/gh/blegat/blegat.github.io/gh-pages?filepath=/generated/notebooks/practical5.ipynb"><span class=badge > <img src="https://mybinder.org/badge_logo.svg" alt="" /> </span></a> <a href="https://nbviewer.jupyter.org/github/blegat/blegat.github.io/blob/gh-pages//generated/notebooks/practical5.ipynb"><span class=badge > <img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt="" /> </span></a> </p> <hr /> <p>Inspired from <a href="https://jump.dev/JuMP.jl/v1.10.0/tutorials/linear/lp_sensitivity/">a JuMP tutorial</a></p> <p>In this practical session, we explain the sensitivity interpretation of dual values using the <code>lp_sensitivity_report</code> function.</p> <p>In brief, sensitivity analysis of a linear program is about asking two questions:</p> <ol> <li><p>Given an optimal solution, how much can I change the objective coefficients before a different solution becomes optimal?</p> <li><p>Given an optimal solution, how much can I change the right-hand side of a linear constraint before a different solution becomes optimal?</p> </ol> <p>JuMP provides a function, <code>lp_sensitivity_report</code>, to help us compute these values, but this tutorial extends that to create more informative tables in the form of a <code>DataFrame</code>.</p> <h2 id=setup ><a href="#setup" class=header-anchor >Setup</a></h2> <p>This tutorial uses the following packages:</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> JuMP
<span class=hljs-keyword >import</span> HiGHS
<span class=hljs-keyword >import</span> DataFrames</code></pre> <p>as well as this small linear program:</p> <pre><code class="julia hljs">model = Model(HiGHS.Optimizer)
<span class=hljs-meta >@variable</span>(model, x &gt;= <span class=hljs-number >0</span>)
<span class=hljs-meta >@variable</span>(model, <span class=hljs-number >0</span> &lt;= y &lt;= <span class=hljs-number >3</span>)
<span class=hljs-meta >@variable</span>(model, z &lt;= <span class=hljs-number >1</span>)
<span class=hljs-meta >@objective</span>(model, Min, <span class=hljs-number >12</span>x + <span class=hljs-number >20</span>y - z)
<span class=hljs-meta >@constraint</span>(model, c1, <span class=hljs-number >6</span>x + <span class=hljs-number >8</span>y &gt;= <span class=hljs-number >100</span>)
<span class=hljs-meta >@constraint</span>(model, c2, <span class=hljs-number >7</span>x + <span class=hljs-number >12</span>y &gt;= <span class=hljs-number >120</span>)
<span class=hljs-meta >@constraint</span>(model, c3, x + y &lt;= <span class=hljs-number >20</span>)
optimize!(model)
solution_summary(model; verbose = <span class=hljs-literal >true</span>)</code></pre> <p>Can you identify:</p> <ul> <li><p>The objective coefficient of each variable?</p> <li><p>The right-hand side of each constraint?</p> <li><p>The optimal primal and dual solutions?</p> </ul> <h2 id=sensitivity_reports ><a href="#sensitivity_reports" class=header-anchor >Sensitivity reports</a></h2> <p>Now let&#39;s call <code>lp_sensitivity_report</code>:</p> <pre><code class="julia hljs">report = lp_sensitivity_report(model)</code></pre>
<p>It returns a <code>SensitivityReport</code> object, which maps:</p>
<ul>
<li><p>Every variable reference to a tuple <code>&#40;d_lo, d_hi&#41;::Tuple&#123;Float64,Float64&#125;</code>, explaining how much the objective coefficient of the corresponding variable can change by, such that the original basis remains optimal.</p>

<li><p>Every constraint reference to a tuple <code>&#40;d_lo, d_hi&#41;::Tuple&#123;Float64,Float64&#125;</code>, explaining how much the right-hand side of the corresponding constraint can change by, such that the basis remains optimal.</p>

</ul>
<p>Both tuples are relative, rather than absolute. So, given an objective coefficient of <code>1.0</code> and a tuple <code>&#40;-0.5, 0.5&#41;</code>, the objective coefficient can range between <code>1.0 - 0.5</code> an <code>1.0 &#43; 0.5</code>.</p>
<p>For example:</p>
<pre><code class="julia hljs">report[x]</code></pre>
<p>indicates that the objective coefficient on <code>x</code>, that is, <code>12</code>, can decrease by <code>-0.333</code> or increase by <code>3.0</code> and the primal solution <code>&#40;15, 1.25&#41;</code> will remain optimal. In addition:</p>
<pre><code class="julia hljs">report[c1]</code></pre>
<p>means that the right-hand side of the <code>c1</code> constraint &#40;100&#41;, can decrease by 4 units, or increase by 2.85 units, aand the primal solution <code>&#40;15, 1.25&#41;</code> will remain optimal.</p>
<h2 id=variable_sensitivity ><a href="#variable_sensitivity" class=header-anchor >Variable sensitivity</a></h2>
<p>By themselves, the tuples aren&#39;t informative. Let&#39;s put them in context by collating a range of other information about a variable:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> variable_report(xi)
    <span class=hljs-keyword >return</span> (
        name = name(xi),
        lower_bound = has_lower_bound(xi) ? lower_bound(xi) : -<span class=hljs-literal >Inf</span>,
        value = value(xi),
        upper_bound = has_upper_bound(xi) ? upper_bound(xi) : <span class=hljs-literal >Inf</span>,
        reduced_cost = reduced_cost(xi),
        obj_coefficient = coefficient(objective_function(model), xi),
        allowed_decrease = report[xi][<span class=hljs-number >1</span>],
        allowed_increase = report[xi][<span class=hljs-number >2</span>],
    )
<span class=hljs-keyword >end</span></code></pre>
<p>Calling our function on <code>x</code>:</p>
<pre><code class="julia hljs">x_report = variable_report(x)</code></pre>
<p>That&#39;s a bit hard to read, so let&#39;s call this on every variable in the model and put things into a DataFrame:</p>
<pre><code class="julia hljs">variable_df =
    DataFrames.DataFrame(variable_report(xi) <span class=hljs-keyword >for</span> xi <span class=hljs-keyword >in</span> all_variables(model))</code></pre>
<p>Great&#33; That looks just like the reports in Excel.</p>
<h2 id=constraint_sensitivity ><a href="#constraint_sensitivity" class=header-anchor >Constraint sensitivity</a></h2>
<p>We can do something similar with constraints:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> constraint_report(ci)
    <span class=hljs-keyword >return</span> (
        name = name(ci),
        value = value(ci),
        rhs = normalized_rhs(ci),
        slack = normalized_rhs(ci) - value(ci),
        shadow_price = shadow_price(ci),
        allowed_decrease = report[ci][<span class=hljs-number >1</span>],
        allowed_increase = report[ci][<span class=hljs-number >2</span>],
    )
<span class=hljs-keyword >end</span>

c1_report = constraint_report(c1)</code></pre>
<p>That&#39;s a bit hard to read, so let&#39;s call this on every variable in the model and put things into a DataFrame:</p>
<pre><code class="julia hljs">constraint_df = DataFrames.DataFrame(
    constraint_report(ci) <span class=hljs-keyword >for</span> (F, S) <span class=hljs-keyword >in</span> list_of_constraint_types(model) <span class=hljs-keyword >for</span>
    ci <span class=hljs-keyword >in</span> all_constraints(model, F, S) <span class=hljs-keyword >if</span> F == AffExpr
)</code></pre>
<h2 id=analysis_questions ><a href="#analysis_questions" class=header-anchor >Analysis questions</a></h2>
<p>Now we can use these dataframes to ask questions of the solution.</p>
<p>For example, we can find basic variables by looking for variables with a reduced cost of 0:</p>
<pre><code class="julia hljs">basic = filter(row -&gt; iszero(row.reduced_cost), variable_df)</code></pre>
<p>and non-basic variables by looking for non-zero reduced costs:</p>
<pre><code class="julia hljs">non_basic = filter(row -&gt; !iszero(row.reduced_cost), variable_df)</code></pre>
<p>we can also find constraints that are binding by looking for zero slacks:</p>
<pre><code class="julia hljs">binding = filter(row -&gt; iszero(row.slack), constraint_df)</code></pre>
<p>or non-zero shadow prices:</p>
<pre><code class="julia hljs">binding2 = filter(row -&gt; !iszero(row.shadow_price), constraint_df)</code></pre>
<hr />
<p><em>This notebook was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p>
<hr />
<p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p>
<div class=page-foot >
  <div class=copyright >
    &copy; Benoît Legat. Last modified: October 04, 2025. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div>
    
    
        <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>